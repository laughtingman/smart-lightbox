(()=>{"use strict";var e={d:(t,l)=>{for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function l(e={}){const t=Object.assign({},{containerSelector:"article",imageSelector:"img",lineSelector:"p",galery:!0,bigImageAttr:"src",background:"rgba(0,0,0,0.8)",borderRadius:0,gap:0,blur:0},e),l="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMC8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvVFIvMjAwMS9SRUMtU1ZHLTIwMDEwOTA0L0RURC9zdmcxMC5kdGQnPjxzdmcgaGVpZ2h0PSIzMiIgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7ZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMiAzMiIgdmlld0JveD0iMCAwIDMyIDMyIiB3aWR0aD0iMzIiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxnIGlkPSJFcnJvcl8xXyI+PGcgaWQ9IkVycm9yIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiBpZD0iQkciIHI9IjE2IiBzdHlsZT0iZmlsbDojRDcyODI4OyIvPjxwYXRoIGQ9Ik0xNC41LDI1aDN2LTNoLTNWMjV6IE0xNC41LDZ2MTNoM1Y2SDE0LjV6IiBpZD0iRXhjbGFtYXRvcnlfeDVGX1NpZ24iIHN0eWxlPSJmaWxsOiNFNkU2RTY7Ii8+PC9nPjwvZz48L2c+PC9zdmc+";let n=document.documentElement;n.style.setProperty("--lightbox-background",t.background),n.style.setProperty("--lightbox-border-radius",t.borderRadius),n.style.setProperty("--lightbox-gap",t.gap),n.style.setProperty("--lightbox-blur",t.blur);let i=document.querySelectorAll(t.containerSelector),o=0;for(let e of i){let l=e.querySelectorAll(t.lineSelector+":not(.lightbox-line)");for(let e of l){let l=e.querySelectorAll(t.imageSelector+":not(.lightbox-image)");if(0!=l.length){t.galery&&e.classList.add("lightbox-line");for(let e of l)e.classList.add("lightbox-image"),e.dataset.group=o,e.addEventListener("click",s,!1),e.onload=function(l){l.target.style.maxWidth=`min(${e.naturalWidth}px, 100%)`,t.galery&&a(l.target.parentNode.parentNode)},t.galery&&c(e)}else o++}o++}function r(){let e=document.querySelectorAll(".lightbox-line");for(let t of e)a(t)}function a(e){e.style.height=null;let t=e.querySelectorAll(".lightbox-image");if(0==t.length)return;let l=t[0].clientHeight;for(let e of t)l=e.clientHeight<l?e.clientHeight:l;e.style.height=l+"px"}function c(e){if("A"==e.parentNode.tagName)e.parentNode.classList.add("lightbox-image-crop"),e.parentNode.addEventListener("click",(function(e){e.preventDefault()}));else{let t=document.createElement("div");t.classList.add("lightbox-image-crop"),e.parentNode.insertBefore(t,e),t.appendChild(e)}}function s(e){let t=e.currentTarget,n=document.querySelectorAll(".lightbox-image[data-group='"+t.dataset.group+"']"),i=document.createElement("div");i.classList.add("lightbox");let o=document.createElement("div");o.classList.add("lightbox-content");let r=null;if(n.length>1){i.classList.add("group");for(let e of n){let n=document.createElement("img"),i=x(e);n.setAttribute("src",i),n.onload=function(){this.src!=l&&(this.style.maxHeight=`min(${n.naturalHeight}px, 90vh)`,this.style.maxWidth=`min(${n.naturalWidth}px, 90vw)`)},n.onerror=function(){this.style.width="200px",this.style.height="200px",this.src=l},n.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),b(e.currentTarget)})),i==x(t)&&(r=n),o.appendChild(n)}}else{i.classList.add("panorama");let e=document.createElement("img");e.setAttribute("src",x(n[0])),o.appendChild(e),e.naturalWidth/e.naturalHeight>1?(i.classList.add("horizontal"),e.style.maxHeight=`min(${e.naturalHeight}px, 90vh)`):(i.classList.add("vertical"),e.style.maxWidth=`min(${e.naturalWidth}px, 90vw)`),r=e}b(r),i.appendChild(o),i.addEventListener("click",d),n.length>1&&(i.addEventListener("touchstart",p,!1),i.addEventListener("touchmove",y,!1)),document.body.classList.add("open-lightbox"),document.body.appendChild(i),document.addEventListener("keydown",u),"onwheel"in document?i.addEventListener("wheel",g):"onmousewheel"in document?i.addEventListener("mousewheel",g):i.addEventListener("MozMousePixelScroll",g)}function d(){document.removeEventListener("keyup",u),document.querySelector(".lightbox").remove(),document.body.classList.remove("open-lightbox")}function u(e){"Escape"==e.key&&d();let t=document.querySelector(".lightbox");if(null!=t)if(t.classList.contains("panorama")){let l=40;t.classList.contains("horizontal")?("ArrowLeft"==e.key&&(t.scrollLeft-=l),"ArrowRight"==e.key&&(t.scrollLeft+=l)):("ArrowUp"==e.key&&(t.scrollTop-=l),"ArrowDown"==e.key&&(t.scrollTop+=l))}else"ArrowLeft"==e.key&&m(),"ArrowRight"==e.key&&h()}function g(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;let t=e.deltaY||e.detail||e.wheelDelta,l=document.querySelector(".lightbox");null!=l&&(l.classList.contains("panorama")?l.classList.contains("horizontal")?l.scrollLeft+=t:l.scrollTop+=t:t>0?h():m())}function m(){document.querySelector(".lightbox")&&b(document.querySelector(".lightbox-content img.current").previousSibling)}function h(){document.querySelector(".lightbox")&&b(document.querySelector(".lightbox-content img.current").nextSibling)}function b(e){if(null!=e){for(let t of e.parentNode.querySelectorAll("img"))t.classList="";e.classList.add("current"),e.nextSibling&&e.nextSibling.classList.add("next"),e.previousSibling&&e.previousSibling.classList.add("prev")}}function p(e){const t=e.touches[0];xDown=t.clientX}function y(e){if(!xDown)return;const t=e.touches[0].clientX;xDown-t>0?h():m(),xDown=null}function x(e){let l=e.getAttribute("src");return"href"==t.bigImageAttr?e.parentNode.hasAttribute("href")&&(l=e.parentNode.getAttribute("href")):e.hasAttribute(t.bigImageAttr)&&(l=e.getAttribute(t.bigImageAttr)),l}t.galery&&(window.addEventListener("resize",r),r())}e.d(t,{default:()=>l}),window.smartLightbox=t.default})();
//# sourceMappingURL=smart-lightbox.min.js.map